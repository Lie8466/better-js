!function(r){var e={};function t(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{configurable:!1,enumerable:!0,get:n})},t.r=function(r){Object.defineProperty(r,"__esModule",{value:!0})},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},t.p="",t(t.s=2)}([function(r,e){function t(r){return"function"==typeof r}function n(r,e){return Object.prototype.hasOwnProperty.call(r,e)}r.exports={isFunction:t,objectMerge:function(r,e){return e?(function(r,e){var t,o;if(function(r){return void 0===r}(r.length))for(t in r)n(r,t)&&e.call(null,t,r[t]);else if(o=r.length)for(t=0;t<o;t++)e.call(null,t,r[t])}(e,function(e,t){r[e]=t}),r):r},handleWindowError:function(r,e){var n=r.onerror;r.onerror=function(r,o,s,i,a){a&&a.stack?e.sendError({title:r,msg:a.stack,category:"js",level:"error"}):"string"==typeof r&&e.sendError({title:r,msg:JSON.stringify({resourceUrl:o,rowNum:s,colNum:i}),category:"js",level:"error"}),n&&t(n)&&n&&n.apply(window,arguments)}},handleRejectPromise:function(r,e){r.addEventListener("unhandledrejection",function(r){if(r){var t=r.reason;e.sendError({title:"unhandledrejection",msg:t,category:"js",level:"error"})}},!0)},handleConsoleError:function(r,e){if(r.console&&r.console.error){var t=r.console.error;r.console.error=function(){e.sendError({title:"consoleError",msg:JSON.stringify(arguments.join(",")),category:"js",level:"error"}),t&&t.apply(r,arguments)}}},handleResourceError:function(r,e){r.addEventListener("error",function(r){if(r){var t=r.target||r.srcElement;if(!(t instanceof HTMLScriptElement||t instanceof HTMLLinkElement||t instanceof HTMLImageElement))return;var n=t.src||t.href;e.sendError({title:t.nodeName,msg:n,category:"resource",level:"error"})}},!0)},handleAjaxError:function(r,e){if("file:"!==r.location.protocol&&(function(r,e){if(!r.fetch)return;let t=r.fetch;r.fetch=function(){return t.apply(this,arguments).then(r=>(r.ok||e.sendError({title:arguments[0],msg:JSON.stringify(r),category:"ajax",level:"error"}),r)).catch(r=>{throw e.sendError({title:arguments[0],msg:JSON.stringify({message:r.message,stack:r.stack}),category:"ajax",level:"error"}),r})}}(r,e),r.XMLHttpRequest)){var t=r.XMLHttpRequest,n=t.prototype.send,o=function(r){r&&r.currentTarget&&200!==r.currentTarget.status&&e.sendError({title:r.target.responseURL,msg:JSON.stringify({response:r.target.response,responseURL:r.target.responseURL,status:r.target.status,statusText:r.target.statusText}),category:"ajax",level:"error"})};t.prototype.send=function(){if(this.addEventListener)this.addEventListener("error",o),this.addEventListener("load",o),this.addEventListener("abort",o);else{var r=this.onreadystatechange;this.onreadystatechange=function(e){4===this.readyState&&o(e),r&&r.apply(this,arguments)}}return n.apply(this,arguments)}}},handleVueError:function(r,e){var n=r.Vue;if(n&&n.config){var o=n.config.errorHandler;Vue.config.errorHandler=function(r,n,s){var i={};"[object Object]"===Object.prototype.toString.call(n)&&(i.componentName=n._isVue?n.$options.name||n.$options._componentTag:n.name,i.propsData=n.$options.propsData),e.sendError({title:"vue Error",msg:i+s,category:"js",level:"error"}),o&&t(o)&&o.call(this,r,n,s)}}}}},function(r,e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(r){"object"==typeof window&&(t=window)}r.exports=t},function(r,e,t){(function(e){var n=t(0),o="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};if(!(s=o.betterJs)){var s;(s=new function(){}).init=function(r){var t=n.objectMerge({jsError:!0,resourceError:!0,ajaxError:!0,consoleError:!1,scriptError:!1,vue:!1,autoReport:!0,filters:[],levels:["info","warning","error"],category:["js","resource","ajax"]},r);t.scriptError||t.filters.push(function(){return/^Script error\.?$/.test(arguments[0])});var o=t.sendError;t.sendError=function(r,e,s,i,a){try{if(t.filters.some(r=>n.isFunction(r)&&r.apply(this,arguments)))return;if(o.apply(this,arguments),t.autoReport)return}catch(r){o({title:"betterJs",msg:r,category:"js"})}};var s="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},i=s.addEventListener||s.attachEvent;t.jsError&&n.handleWindowError(s,t),t.jsError&&n.handleRejectPromise(s,t),t.resourceError&&i&&n.handleResourceError(s,t),t.ajaxError&&n.handleAjaxError(s,t),t.consoleError&&n.handleConsoleError(s,t),t.vue&&n.handleVueError(s,t)}}o.betterJs=s,r.exports=s}).call(this,t(1))}]);